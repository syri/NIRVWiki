(this.webpackJsonpnirvwiki=this.webpackJsonpnirvwiki||[]).push([[0],{15:function(e,t,n){e.exports=n.p+"static/media/logo-simple.7a71fbf4.png"},21:function(e,t,n){e.exports=n(37)},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(14),o=n.n(r),c=n(20),s=n(2),u=n(3),l=n(5),v=n(4),h=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{id:"footer"},i.a.createElement("div",{id:"footer-content",className:"unselectable"},"\xa9 NIRV Team, 2020"))}}]),n}(a.Component),f=n(15),p=n.n(f),d=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).navigationOpen=void 0,a.navigationOpen=!0,window.addEventListener("resize",(function(){return a.resize()})),window.addEventListener("orientationchange",(function(){return a.resize()})),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.resize()}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",(function(){return e.resize()})),window.removeEventListener("orientationchange",(function(){return e.resize()}))}},{key:"toggleNavigation",value:function(){this.navigationOpen?this.hideNavigation(!0):this.showNavigation(!0)}},{key:"showNavigation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.getElementById("navigation"),n=document.getElementById("content");this.navigationOpen=!0,t&&(t.style.display="flex"),n&&e&&(n.style.display="none")}},{key:"hideNavigation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.getElementById("navigation"),n=document.getElementById("content");this.navigationOpen=!1,t&&(t.style.display="none"),n&&e&&(n.style.display="flex")}},{key:"resize",value:function(){if(window.innerWidth<=425&&this.hideNavigation(),!this.navigationOpen&&window.innerWidth>425){var e=document.getElementById("content");this.showNavigation(),e&&(e.style.display="block")}}},{key:"onHeaderClicked",value:function(){window.location.hash="#/",window.location.reload()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"header",className:"unselectable"},i.a.createElement("div",{id:"header-menu",onClick:function(){return e.toggleNavigation()}},"\u2630"),i.a.createElement("img",{id:"header-logo",src:p.a,alt:"Logo"}),i.a.createElement("h1",{onClick:function(){return e.onHeaderClicked()}},"NIRV Wiki"))}}]),n}(a.Component),g=n(6),m=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"openPage",value:function(){"default"===this.props.category?window.location.hash="#/"+this.props.file.slice(0,-3):window.location.hash="#/"+this.props.category+this.props.file.slice(0,-3),window.location.reload()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"navigation-page"},i.a.createElement("div",{className:"navigation-page-name",onClick:function(){return e.openPage()}},this.props.name))}}]),n}(a.Component),y=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={visible:"default"===a.props.name},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=window.localStorage.getItem("".concat(this.props.name,"-categoryOpen"));this.setState({visible:JSON.parse(e||"false")})}},{key:"getPages",value:function(){var e,t=[],n=Object(g.a)(this.props.pages);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(i.a.createElement(m,{key:a.name,category:this.props.path,name:a.name,file:a.file}))}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"toggleVisibility",value:function(){var e=this;this.setState({visible:!this.state.visible},(function(){window.localStorage.setItem("".concat(e.props.name,"-categoryOpen"),JSON.stringify(e.state.visible))}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"navigation-category unselectable"},"default"!==this.props.name?i.a.createElement("div",{className:"navigation-category-name",onClick:function(){return e.toggleVisibility()}},i.a.createElement("span",{className:"arrow"},this.state.visible?"\u25b2":"\u25bc"),this.props.name):null,this.state.visible||"default"===this.props.name?this.getPages():null)}}]),n}(a.Component),b=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getCategories",value:function(){var e=[];if(this.props.structure.categories){var t,n=Object(g.a)(this.props.structure.categories);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.push(i.a.createElement(y,{key:a.name,path:a.path,name:a.name,pages:a.pages}))}}catch(r){n.e(r)}finally{n.f()}}return e}},{key:"render",value:function(){return i.a.createElement("div",{id:"navigation"},i.a.createElement("div",{id:"navigation-content"},this.getCategories()),i.a.createElement(h,null))}}]),n}(a.Component),w=n(9),O=n.n(w),k=n(16),j=n(17),E=function(e){Object(l.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).pagesDirectory=void 0,a.pagesDirectory="pages/",a.state={structure:{}},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/structure.json").then((function(e){return e.json()})).then((function(t){e.setState({structure:t},(function(){return e.getPageContent()}))}))}},{key:"getPageContent",value:function(){var e=this,t=window.location.hash.substring(2),n=!1,a=function(){var e=Object(k.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/".concat(t.trim()));case 2:return n=e.sent,e.abrupt("return",n.text());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(t&&this.state.structure.categories){var i,r=Object(g.a)(this.state.structure.categories);try{for(r.s();!(i=r.n()).done;){var o,c=i.value,s=Object(g.a)(c.pages);try{var u=function(){var i=o.value;c.path+i.file.slice(0,-3)===t&&(a(e.pagesDirectory+c.path+i.file).then((function(t){e.setState({currentPage:{page:{name:i.name,file:i.file},content:t}})})),n=!0)};for(s.s();!(o=s.n()).done;)u()}catch(m){s.e(m)}finally{s.f()}}}catch(m){r.e(m)}finally{r.f()}}if(!n&&this.state.structure.categories){"#/"!==window.location.hash&&(window.location.hash="#/");var l,v=Object(g.a)(this.state.structure.categories);try{for(v.s();!(l=v.n()).done;){var h,f=l.value,p=Object(g.a)(f.pages);try{var d=function(){var t=h.value;t.home&&a(e.pagesDirectory+f.path+t.file).then((function(n){e.setState({currentPage:{page:{name:t.name,file:t.file},content:n}})}))};for(p.s();!(h=p.n()).done;)d()}catch(m){p.e(m)}finally{p.f()}}}catch(m){v.e(m)}finally{v.f()}}}},{key:"render",value:function(){return i.a.createElement("div",{id:"wiki-page"},i.a.createElement(b,{structure:this.state.structure}),i.a.createElement("div",{id:"content"},i.a.createElement(j.a,null,this.state.currentPage?this.state.currentPage.content:"")))}}]),n}(a.Component);n(27),n(28),n(29),n(30),n(31);o.a.render(i.a.createElement(c.a,{basename:""},i.a.createElement(d,null),i.a.createElement(E,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.81b63398.chunk.js.map